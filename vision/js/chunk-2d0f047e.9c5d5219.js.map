{"version":3,"sources":["webpack:///./src/components/screen/DynamicComponentList.vue?cfb4","webpack:///src/components/screen/DynamicComponentList.vue","webpack:///./src/components/screen/DynamicComponentList.vue?7b62","webpack:///./src/components/screen/DynamicComponentList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","state","visible","on","$event","$set","staticClass","create","_v","list","length","_l","item","i","key","image","_s","text","edit","deleteItem","_e","slot","staticRenderFns","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,MAAM,IAAM,OAAO,MAAQ,QAAQ,QAAUN,EAAIO,MAAMC,QAAQ,wBAAuB,GAAOC,GAAG,CAAC,iBAAiB,SAASC,GAAQ,OAAOV,EAAIW,KAAKX,EAAIO,MAAO,UAAWG,MAAW,CAACN,EAAG,SAAS,CAACA,EAAG,MAAM,CAACQ,YAAY,gCAAgCH,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAIa,YAAY,CAACT,EAAG,MAAM,CAACQ,YAAY,WAAW,CAACR,EAAG,IAAI,CAACQ,YAAY,4BAA4BR,EAAG,MAAM,CAACJ,EAAIc,GAAG,cAAed,EAAIO,MAAMQ,MAAQf,EAAIO,MAAMQ,KAAKC,OAAQ,CAAChB,EAAIiB,GAAIjB,EAAIO,MAAU,MAAE,SAASW,EAAKC,GAAG,MAAO,CAACf,EAAG,MAAM,CAACgB,IAAID,EAAEP,YAAY,0BAA0B,CAACR,EAAG,MAAM,CAACE,MAAM,CAAC,IAAMY,EAAKG,SAASjB,EAAG,MAAM,CAACQ,YAAY,SAAS,CAACZ,EAAIc,GAAGd,EAAIsB,GAAGJ,EAAKK,SAASnB,EAAG,MAAM,CAACQ,YAAY,OAAOH,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAIwB,KAAKN,MAAS,CAACd,EAAG,IAAI,CAACQ,YAAY,8BAA8BR,EAAG,MAAM,CAACQ,YAAY,QAAQH,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAIyB,WAAWP,MAAS,CAACd,EAAG,IAAI,CAACQ,YAAY,sCAAqCZ,EAAI0B,MAAM,GAAGtB,EAAG,MAAM,CAACQ,YAAY,gBAAgBN,MAAM,CAAC,KAAO,UAAUqB,KAAK,UAAU,CAACvB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,QAAQG,GAAG,CAAC,MAAQ,SAASC,GAAQV,EAAIO,MAAMC,SAAU,KAAS,CAACR,EAAIc,GAAG,UAAU,IAAI,IACxvCc,EAAkB,G,wBCsCtB,GACE,KAAF,uBACE,MAAF,mBACE,KAHF,WAII,MAAJ,IAEE,QANF,aAQE,QAAF,CAII,OAJJ,WAKM,KAAN,iCACQ,GAAR,KACQ,KAAR,GACQ,KAAR,eACQ,SAAR,OACQ,MAAR,GACQ,OAAR,KAEM,KAAN,2BAKI,KAlBJ,SAkBA,GACM,KAAN,4CACM,KAAN,2BAKI,QAzBJ,WAyBM,IAAN,OACM,KAAN,MACQ,IAAR,8BACQ,OAAR,kBACA,kBACA,iBACU,EAAV,6CAiBI,WAhDJ,SAgDA,GAAM,IAAN,OACM,KAAN,kCACQ,kBAAR,KACQ,iBAAR,KACQ,KAAR,YACA,iBACQ,EAAR,MACU,IAAV,4CACU,OAAV,kBACA,kBACU,EAAV,UACA,UACY,EAAZ,iBAEY,EAAZ,gCAGA,yBChH6W,I,YCOzWC,EAAY,eACd,EACA9B,EACA6B,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"js/chunk-2d0f047e.9c5d5219.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"width\":\"90%\",\"top\":\"20px\",\"title\":\"自定义组件\",\"visible\":_vm.state.visible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){return _vm.$set(_vm.state, \"visible\", $event)}}},[_c('el-row',[_c('div',{staticClass:\"dynamic-component-card create\",on:{\"click\":function($event){return _vm.create()}}},[_c('div',{staticClass:\"content\"},[_c('i',{staticClass:\"icon iconfont icon-plus\"}),_c('div',[_vm._v(\"新增组件\")])])]),(_vm.state.list && _vm.state.list.length)?[_vm._l((_vm.state.list),function(item,i){return [_c('div',{key:i,staticClass:\"dynamic-component-card\"},[_c('img',{attrs:{\"src\":item.image}}),_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.text))]),_c('div',{staticClass:\"edit\",on:{\"click\":function($event){return _vm.edit(item)}}},[_c('i',{staticClass:\"icon iconfont icon-edit\"})]),_c('div',{staticClass:\"close\",on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_c('i',{staticClass:\"icon iconfont icon-cross\"})])])]})]:_vm._e()],2),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.state.visible = false}}},[_vm._v(\"关 闭\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-dialog width=\"90%\"\r\n               top=\"20px\"\r\n               title=\"自定义组件\"\r\n               :visible.sync=\"state.visible\"\r\n               :close-on-click-modal=\"false\">\r\n        <el-row>\r\n            <div class=\"dynamic-component-card create\"\r\n                 @click=\"create()\">\r\n                <div class=\"content\">\r\n                    <i class=\"icon iconfont icon-plus\"></i>\r\n                    <div>新增组件</div>\r\n                </div>\r\n            </div>\r\n            <template v-if=\"state.list && state.list.length\">\r\n                <template v-for=\"(item, i) in state.list\">\r\n                    <div class=\"dynamic-component-card\" :key=\"i\">\r\n                        <img :src=\"item.image\">\r\n                        <div class=\"title\">{{item.text}}</div>\r\n                        <div class=\"edit\" @click=\"edit(item)\">\r\n                            <i class=\"icon iconfont icon-edit\"></i>\r\n                        </div>\r\n                        <div class=\"close\" @click=\"deleteItem(item)\">\r\n                            <i class=\"icon iconfont icon-cross\"></i>\r\n                        </div>\r\n                    </div>\r\n                </template>\r\n            </template>\r\n        </el-row>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button size=\"mini\" @click=\"state.visible = false\">关 闭</el-button>\r\n        </div>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\n    import API from '../../config/api'\r\n    import CONST from \"../../config/const\";\r\n\r\n    export default {\r\n        name: \"DynamicComponentList\",\r\n        props: ['config', 'state'],\r\n        data() {\r\n            return {}\r\n        },\r\n        mounted() {\r\n        },\r\n        methods: {\r\n            /**\r\n             * 新建\r\n             */\r\n            create() {\r\n                this.$set(this.state.editMode, 'item', {\r\n                    id: null,\r\n                    text: \"\",\r\n                    name: \"DynamicChart\",\r\n                    category: \"base\",\r\n                    image: \"\",\r\n                    config: \"\"\r\n                })\r\n                this.state.editMode.visible = true\r\n            },\r\n            /**\r\n             * 编辑\r\n             */\r\n            edit(item) {\r\n                this.$set(this.state.editMode, 'item', _.clone(item))\r\n                this.state.editMode.visible = true\r\n            },\r\n            /**\r\n             * 刷新列表\r\n             */\r\n            refresh() {\r\n                this.ajax({\r\n                    url: API.DYNAMIC_COMPONENT.LIST,\r\n                    method: CONST.AJAX.GET,\r\n                }).then(response => {\r\n                    if (response.data.success) {\r\n                        this.state.dynamicComponent.list = response.data.data\r\n                    }\r\n                })\r\n                // TODO 正式版需修改\r\n                // this.ajax({\r\n                //     url: API.DYNAMIC_COMPONENT.LIST,\r\n                //     method: CONST.AJAX.POST,\r\n                //     data: {},\r\n                // }).then(response => {\r\n                //     if (response.success) {\r\n                //         this.state.dynamicComponent.list = response.data\r\n                //     }\r\n                // })\r\n            },\r\n            /**\r\n             * 删除组件\r\n             */\r\n            deleteItem(item) {\r\n                this.$confirm('组件删除后无法恢复, 是否继续?', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    this.ajax({\r\n                        url: API.DYNAMIC_COMPONENT.DELETE + '?id=' + item.id,\r\n                        method: CONST.AJAX.GET,\r\n                    }).then(response => {\r\n                        this.refresh()\r\n                        if (response.success) {\r\n                            this.$message(\"删除成功\");\r\n                        } else {\r\n                            this.$message.error(response.message)\r\n                        }\r\n                    })\r\n                }).catch(() => {\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DynamicComponentList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DynamicComponentList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DynamicComponentList.vue?vue&type=template&id=a2f9000e&scoped=true&\"\nimport script from \"./DynamicComponentList.vue?vue&type=script&lang=js&\"\nexport * from \"./DynamicComponentList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a2f9000e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}