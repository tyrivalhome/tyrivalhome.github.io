(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4eb39362"],{"0a49":function(e,t,n){var a=n("9b43"),o=n("626a"),s=n("4bf8"),r=n("9def"),i=n("cd1c");e.exports=function(e,t){var n=1==e,l=2==e,c=3==e,d=4==e,u=6==e,g=5==e||u,f=t||i;return function(t,i,p){for(var b,v,m=s(t),h=o(m),C=a(i,p,3),k=r(h.length),x=0,_=n?f(t,k):l?f(t,0):void 0;k>x;x++)if((g||x in h)&&(b=h[x],v=C(b,x,m),e))if(n)_[x]=v;else if(v)switch(e){case 3:return!0;case 5:return b;case 6:return x;case 2:_.push(b)}else if(d)return!1;return u?-1:c||d?d:_}}},"0cf3":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"integration-config"},[n("el-tabs",{attrs:{type:"border-card",stretch:""}},[n("el-tab-pane",{attrs:{label:"系统属性",name:"0"}},[n("el-row",[n("el-col",{staticClass:"tag",attrs:{span:8}},[e._v("名称")]),n("el-col",{attrs:{span:16}},[n("el-input",{attrs:{size:"mini"},model:{value:e.config.name,callback:function(t){e.$set(e.config,"name",t)},expression:"config.name"}})],1)],1),n("el-row",[n("el-col",{staticClass:"tag",attrs:{span:8}},[e._v("封面图")]),n("el-col",{attrs:{span:16}},[n("el-input",{attrs:{placeholder:"请输入图片网址",size:"mini",clearable:""},model:{value:e.config.cover,callback:function(t){e.$set(e.config,"cover",t)},expression:"config.cover"}}),n("el-upload",{staticClass:"img-upload",attrs:{drag:"",headers:e.getToken(),action:e.getUploadUrl(),"before-upload":e.beforeUpload,"on-success":e.onSuccessCover,"on-Error":e.onError,"show-file-list":!1}},[e.config.cover?n("img",{staticClass:"img-preview",attrs:{src:e.config.cover}}):e._e(),n("i",{staticClass:"el-icon-upload"}),n("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),n("em",[e._v("点击上传")])])]),e.config.cover?n("div",{staticClass:"img-cover"},[n("i",{staticClass:"icon iconfont icon-delete",on:{click:function(t){return e.removeCoverImage()}}})]):e._e()],1)],1),n("el-row",[n("el-col",{staticClass:"tag",attrs:{span:8}},[e._v("屏幕大小")]),n("el-col",{attrs:{span:7}},[n("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},model:{value:e.config.base.size.width,callback:function(t){e.$set(e.config.base.size,"width",t)},expression:"config.base.size.width"}}),n("div",{staticClass:"description"},[e._v("宽度")])],1),n("el-col",{attrs:{span:7}},[n("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},model:{value:e.config.base.size.height,callback:function(t){e.$set(e.config.base.size,"height",t)},expression:"config.base.size.height"}}),n("div",{staticClass:"description"},[e._v("高度")])],1),n("el-col",{attrs:{span:2}},[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return e.resetSize()}}},[e._v("重置")])],1)],1),n("el-row",[n("el-col",{staticClass:"tag",attrs:{span:8}},[e._v("背景色")]),n("el-col",{attrs:{span:4}},[n("el-color-picker",{attrs:{size:"mini","show-alpha":""},model:{value:e.config.base.backgroundColor,callback:function(t){e.$set(e.config.base,"backgroundColor",t)},expression:"config.base.backgroundColor"}})],1),n("el-col",{attrs:{span:4}},[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:e.resetBgColor}},[e._v("重置")])],1)],1),n("el-row",[n("el-col",{staticClass:"tag",attrs:{span:8}},[e._v("背景图")]),n("el-col",{attrs:{span:16}},[n("el-input",{attrs:{placeholder:"请输入图片网址",size:"mini",clearable:""},model:{value:e.config.base.backgroundImage,callback:function(t){e.$set(e.config.base,"backgroundImage",t)},expression:"config.base.backgroundImage"}}),n("el-upload",{staticClass:"img-upload",attrs:{drag:"",headers:e.getToken(),action:e.getUploadUrl(),"before-upload":e.beforeUpload,"on-success":e.onSuccess,"on-Error":e.onError,"show-file-list":!1}},[e.config.base.backgroundImage?n("img",{staticClass:"img-preview",attrs:{src:e.config.base.backgroundImage}}):e._e(),n("i",{staticClass:"el-icon-upload"}),n("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),n("em",[e._v("点击上传")])])]),e.config.base.backgroundImage?n("div",{staticClass:"img-cover"},[n("i",{staticClass:"icon iconfont icon-delete",on:{click:function(t){return e.removeBgImage()}}})]):e._e()],1)],1),n("el-row",[n("el-col",{staticClass:"tag",attrs:{span:8}},[e._v("背景缩放方式")]),n("el-col",{attrs:{span:16}},[n("el-row",[n("el-radio",{attrs:{label:"0"},model:{value:e.config.base.scaleMode,callback:function(t){e.$set(e.config.base,"scaleMode",t)},expression:"config.base.scaleMode"}},[e._v("等比缩放宽度铺满")])],1),n("el-row",[n("el-radio",{attrs:{label:"1"},model:{value:e.config.base.scaleMode,callback:function(t){e.$set(e.config.base,"scaleMode",t)},expression:"config.base.scaleMode"}},[e._v("等比缩放高度铺满")])],1),n("el-row",[n("el-radio",{attrs:{label:"2"},model:{value:e.config.base.scaleMode,callback:function(t){e.$set(e.config.base,"scaleMode",t)},expression:"config.base.scaleMode"}},[e._v("全屏铺满")])],1)],1)],1)],1),n("el-tab-pane",{attrs:{label:"菜单配置",disabled:void 0===e.config.layout||null===e.config.layout}},[n("div",{staticClass:"integration-title"},[n("el-button",{staticClass:"add-item",attrs:{type:"primary",size:"mini"},on:{click:e.addItem}},[e._v("增加一级菜单")])],1),n("div",{staticClass:"integration-tree"},[n("el-tree",{attrs:{data:e.config.navigation,props:e.props,"node-key":"id","default-expand-all":"",draggable:"","allow-drop":e.allowDrop,"allow-drag":e.allowDrag,"expand-on-click-node":!1,"render-content":e.renderContent},on:{"node-drag-start":e.handleDragStart,"node-drag-enter":e.handleDragEnter,"node-drag-leave":e.handleDragLeave,"node-drag-over":e.handleDragOver,"node-drag-end":e.handleDragEnd,"node-drop":e.handleDrop,"node-click":e.selectItem},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,o=t.data;return n("span",{staticClass:"custom-tree-node"},[n("span",[e._v(e._s(a.label))]),n("span",[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.append(o)}}},[e._v("增加子节点")]),n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.remove(a,o)}}},[e._v("删除")])],1)])}}])})],1),n("div",{staticClass:"integration-detail"},[e.currentNode?n("el-row",[n("el-col",{staticClass:"tag",attrs:{span:8}},[e._v("文本")]),n("el-col",{attrs:{span:16}},[n("el-input",{attrs:{size:"mini"},model:{value:e.currentNode.text,callback:function(t){e.$set(e.currentNode,"text",t)},expression:"currentNode.text"}})],1)],1):e._e(),!e.currentNode||e.currentNode.children&&e.currentNode.children.length?e._e():[n("el-row",[n("el-col",{staticClass:"tag",attrs:{span:8}},[e._v("页面地址")]),n("el-col",{attrs:{span:13}},[n("el-input",{attrs:{size:"mini"},model:{value:e.currentNode.url,callback:function(t){e.$set(e.currentNode,"url",t)},expression:"currentNode.url"}})],1),n("el-col",{staticClass:"tag",attrs:{span:3}},[n("el-button",{staticClass:"el-icon-more",attrs:{circle:"",size:"mini"},on:{click:function(t){return e.openAchievementModal(e.currentNode)}}})],1)],1)]],2)])],1)],1)},o=[],s=(n("20d6"),n("7f7f"),n("a3be")),r=n("2ef0"),i=n.n(r),l={name:"InteConfig",props:["config","state"],data:function(){return{currentNode:null,props:{label:"text"},default:{bgColor:null,node:{text:"子节点",icon:"",image:"",url:"",children:[]}}}},created:function(){this.default.bgColor=this.config.base.backgroundColor},computed:{toggleBackButton:function(){return!!this.state.menu.path.length},getTitle:function(){return this.state.menu.path.length?this.state.menu.path.length+"级菜单":"根菜单"}},methods:{resetSize:function(){this.config.base.size=this.config.base.defaultStyle.size},resetBgColor:function(){this.config.base.backgroundColor=this.default.bgColor},beforeUpload:function(e){var t=e.name,n=t.substring(t.lastIndexOf(".")+1).toLowerCase();if("jpg"!==n&&"png"!==n&&"bmp"!==n&&"jpeg"!==n&&"gif"!==n)return this.$message({message:"只支持jpg、png、bmp文件",type:"error"}),!1},getUploadUrl:function(){return s["a"].ATTACHMENT.UPLOAD},getToken:function(){return{token:this.$store.state.token}},onSuccess:function(e){this.config.base.backgroundImage=s["a"].ATTACHMENT.DOWNLOAD+"?id="+e.data.id},onSuccessCover:function(e){this.config.cover=s["a"].ATTACHMENT.DOWNLOAD+"?id="+e.data.id},onError:function(e){this.$message({message:e.data.message,type:"error"})},removeBgImage:function(){this.config.base.backgroundImage=null},removeCoverImage:function(){this.config.cover=null},handleDragStart:function(e,t){console.log("drag start",e)},handleDragEnter:function(e,t,n){console.log("tree drag enter: ",t.label)},handleDragLeave:function(e,t,n){console.log("tree drag leave: ",t.label)},handleDragOver:function(e,t,n){console.log("tree drag over: ",t.label)},handleDragEnd:function(e,t,n,a){console.log("tree drag end: ",t&&t.label,n)},handleDrop:function(e,t,n,a){console.log("tree drop: ",t.label,n)},allowDrop:function(e,t,n){return"二级 3-1"!==t.data.label||"inner"!==n},allowDrag:function(e){return-1===e.data.label.indexOf("三级 3-2-2")},append:function(e){var t={text:"默认",icon:"",image:"",url:"",children:[]};e.children||this.$set(e,"children",[]),e.children.push(t)},remove:function(e,t){var n=e.parent,a=n.data.children||n.data,o=a.findIndex((function(e){return e.id===t.id}));a.splice(o,1)},renderContent:function(e,t){var n=this,a=t.node,o=t.data;t.store;return e("span",{class:"custom-tree-node"},[e("span",[a.label]),e("span",[e("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return n.append(o)}}},["增加子节点"]),e("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return n.remove(a,o)}}},["删除"])])])},selectItem:function(e,t,n){this.$set(this,"currentNode",e)},addItem:function(){this.state.menu.node&&this.state.menu.node.length||(this.state.menu.node=[]),this.state.menu.node.push(this.generateNode())},generateNode:function(){var e=i.a.cloneDeep(this.default.node);return e.text+=this.state.menu.node.length+1,e},openAchievementModal:function(e){this.state.achievement.visible=!0,this.state.achievement.item=e}}},c=l,d=n("2877"),u=Object(d["a"])(c,a,o,!1,null,null,null);t["default"]=u.exports},1169:function(e,t,n){var a=n("2d95");e.exports=Array.isArray||function(e){return"Array"==a(e)}},"20d6":function(e,t,n){"use strict";var a=n("5ca1"),o=n("0a49")(6),s="findIndex",r=!0;s in[]&&Array(1)[s]((function(){r=!1})),a(a.P+a.F*r,"Array",{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(s)},"7f7f":function(e,t,n){var a=n("86cc").f,o=Function.prototype,s=/^\s*function ([^ (]*)/,r="name";r in o||n("9e1e")&&a(o,r,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(e){return""}}})},cd1c:function(e,t,n){var a=n("e853");e.exports=function(e,t){return new(a(e))(t)}},e853:function(e,t,n){var a=n("d3f4"),o=n("1169"),s=n("2b4c")("species");e.exports=function(e){var t;return o(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!o(t.prototype)||(t=void 0),a(t)&&(t=t[s],null===t&&(t=void 0))),void 0===t?Array:t}}}]);
//# sourceMappingURL=chunk-4eb39362.c12cd035.js.map