{"version":3,"sources":["webpack:///./src/components/screen/Loader.vue?98d8","webpack:///src/components/screen/Loader.vue","webpack:///./src/components/screen/Loader.vue?bd6f","webpack:///./src/components/screen/Loader.vue","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./node_modules/core-js/modules/_fails-is-regexp.js","webpack:///./node_modules/core-js/modules/_object-sap.js","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./node_modules/core-js/modules/_is-regexp.js","webpack:///./node_modules/core-js/modules/web.dom.iterable.js","webpack:///./src/utils/IdGenerator.js","webpack:///./node_modules/core-js/modules/_string-context.js","webpack:///./node_modules/core-js/modules/es6.string.starts-with.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","state","visible","on","$event","$set","model","value","callback","$$v","screen","expression","staticClass","slot","save","_v","staticRenderFns","component","toObject","$keys","it","MATCH","module","exports","KEY","re","e","f","$export","core","fails","exec","fn","Object","exp","S","F","dP","FProto","Function","prototype","nameRE","NAME","configurable","get","match","isObject","cof","isRegExp","undefined","$iterators","getKeys","redefine","global","hide","Iterators","wks","ITERATOR","TO_STRING_TAG","ArrayValues","Array","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","i","length","key","explicit","Collection","proto","IdGenerator","random","prefix","Date","getTime","Math","ceil","randomCmpId","randomFullScreenId","validateCmpId","id","startsWith","num","replace","timestamp","floor","defined","that","searchString","TypeError","String","toLength","context","STARTS_WITH","$startsWith","P","index","min","arguments","search","call","slice"],"mappings":"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","file":"js/chunk-bbaf3db0.1845f9ba.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"width\":\"50%\",\"title\":\"导入配置\",\"visible\":_vm.state.visible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){return _vm.$set(_vm.state, \"visible\", $event)}}},[_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":12,\"size\":\"mini\",\"resize\":\"none\"},model:{value:(_vm.screen),callback:function ($$v) {_vm.screen=$$v},expression:\"screen\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"载 入\")]),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.state.visible = false}}},[_vm._v(\"取 消\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-dialog width=\"50%\"\r\n               title=\"导入配置\"\r\n               :visible.sync=\"state.visible\"\r\n               :close-on-click-modal=\"false\">\r\n        <el-row>\r\n            <el-col :span=\"24\">\r\n                <el-input v-model=\"screen\"\r\n                          type=\"textarea\"\r\n                          :rows=\"12\"\r\n                          size=\"mini\"\r\n                          resize=\"none\">\r\n                </el-input>\r\n            </el-col>\r\n        </el-row>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button size=\"mini\" type=\"primary\" @click=\"save\">载 入</el-button>\r\n            <el-button size=\"mini\" @click=\"state.visible = false\">取 消</el-button>\r\n        </div>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\n    import CONST from '../../config/const'\r\n    import IdGenerator from '../../utils/IdGenerator'\r\n\r\n    export default {\r\n        name: \"Loader\",\r\n        props: ['config', 'state'],\r\n        data() {\r\n            return {\r\n                rules: {\r\n                    screen: [\r\n                        {required: true, message: '配置不可为空', trigger: 'blur'}\r\n                    ],\r\n                },\r\n                screen: null\r\n            }\r\n        },\r\n        methods: {\r\n            /**\r\n             * 加载配置\r\n             */\r\n            save() {\r\n                try {\r\n                    let data = JSON.parse(this.screen)\r\n                    if (data.hasOwnProperty(\"id\")) {\r\n                        this.importConfig(data)\r\n                    } else {\r\n                        this.importComponents(data)\r\n                    }\r\n                    this.state.visible = false\r\n                    this.screen = null\r\n                } catch (e) {\r\n                    this.$message({message: CONST.MESSAGE.JSON_PARSE_ERROR, type: 'error'})\r\n                }\r\n            },\r\n            importConfig(data) {\r\n                let id = this.config.id\r\n                let name = this.config.name\r\n                let cover = this.config.cover\r\n                let state = this.config.state\r\n                Object.assign(this.config, data)\r\n                this.config.id = id\r\n                this.config.name = name\r\n                this.config.cover = cover\r\n                this.config.state = state\r\n                if (typeof this.config.base == \"string\") {\r\n                    this.config.base = JSON.parse(this.config.base)\r\n                }\r\n                if (typeof this.config.sequence == \"string\") {\r\n                    this.config.sequence = JSON.parse(this.config.sequence)\r\n                }\r\n                if (typeof this.config.components == \"string\") {\r\n                    this.config.components = JSON.parse(this.config.components)\r\n                }\r\n                if (\"ON\" === this.config.state) {\r\n                    this.config.state = 1;\r\n                } else {\r\n                    this.config.state = 0;\r\n                }\r\n            },\r\n            importComponents(data) {\r\n                let idArr = Object.keys(data)\r\n                if (!idArr || !idArr.length) {\r\n                    return\r\n                }\r\n                let seq = []\r\n                for (let i = 0; i < idArr.length; i++) {\r\n                    let id = idArr[i];\r\n                    if (!IdGenerator.validateCmpId(id)) {\r\n                        continue;\r\n                    }\r\n                    let cmp = data[id];\r\n                    let newId = IdGenerator.randomCmpId();\r\n                    cmp.config.id = newId;\r\n                    this.$set(this.config.components, newId, cmp);\r\n                    seq.push(newId);\r\n                }\r\n                seq = seq.concat(this.config.sequence);\r\n                this.$set(this.config, \"sequence\", seq);\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Loader.vue?vue&type=template&id=2c33ab4e&scoped=true&\"\nimport script from \"./Loader.vue?vue&type=script&lang=js&\"\nexport * from \"./Loader.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c33ab4e\",\n  null\n  \n)\n\nexport default component.exports","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","const IdGenerator = {\n    random: function (prefix) {\n        return prefix + new Date().getTime() + Math.ceil(Math.random() * 10000)\n    },\n    randomCmpId: function () {\n        return this.random(\"cmp-\")\n    },\n    randomFullScreenId: function () {\n        return this.random(\"full-screen-\")\n    },\n    validateCmpId: function (id) {\n        let prefix = \"cmp-\"\n        if (!id.startsWith(prefix)) {\n            return false\n        }\n        let num = id.replace(prefix, \"\") / 10000\n        let timestamp = Math.floor(num)\n        if (!new Date(timestamp) instanceof Date) {\n            return false\n        }\n        return true\n    }\n}\n\nexport default IdGenerator;","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n","// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar STARTS_WITH = 'startsWith';\nvar $startsWith = ''[STARTS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(STARTS_WITH), 'String', {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = context(this, searchString, STARTS_WITH);\n    var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n"],"sourceRoot":""}